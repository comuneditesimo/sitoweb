@if (Visible)
{
    <div class="rchat-upload-component">
        <ChatBusyIndicator Busy="_filesLoading"></ChatBusyIndicator>
        <div class="rchat-file-drop">
            @if (_currentFiles.Count == 0)
            {
                <div class="rchat-upload-empty-msg">@TextProvider.Get("NO_DOKUMENT_FOUND")</div>
            }
            else
            {
                @foreach (var fi in _currentFiles)
                {
                    <div class="rchat-upload-doc">
                        <div class="rchat-upload-doc-download-section">
                            <div class="rchat-upload-doc-download-btn" @onclick="() => DownloadFile(fi)">
                                <span>
                                    <i class="fa-light  fa-lg fa-download"></i>
                                </span>
                            </div>
                            <div>
                                <span>
                                    <i class="fa-light @FileExtensionUtil.GetFileIconFromExtension(fi.FileExtension) fa-lg rchat-upload-doc-icon"></i>
                                </span>
                            </div>
                            <div class="rchat-upload-doc-name">@fi.FileName</div>
                        </div>
                        <div @onclick="() => RemoveFile(fi)" class="rchat-upload-doc-x">
                            <i class="fa-light fa-xmark"></i>
                        </div>
                    </div>
                }
            }
        </div>
        @if (Multiple)
        {
            <InputFile name="@Guid.NewGuid()" OnChange="LoadFiles" multiple style="display: none" id="input-file-rchat"></InputFile>
        }
        else
        {
            <InputFile name="@Guid.NewGuid()" OnChange="LoadFiles" style="display: none" id="input-file-rchat"></InputFile>
        }
        <div>
            <button type="button" class="rchat-file-upload-btn" onclick="enviromentHelper_clickElement('input-file-rchat')">
                <span>
                    <i class="fa-light fa-paperclip-vertical"></i>
                </span>
                @TextProvider.Get("UPLOAD")
            </button>
        </div>

    </div>
}
else if (SummaryVisible && _currentFiles.Count > 0)
{
    <div class="rchat-current-docs-preview">
        @TextProvider.Get("UPLOADED_FILES")
        @foreach (var file in _currentFiles)
        {
            <div class="rchat-summary-doc" @onclick="() => RemoveFile(file)">
                <span>
                    <i class="fa-regular fa-xmark"></i>
                </span>
                <div class="rchat-summary-doc-name">
                    @file.FileName
                </div>

            </div>
        }
    </div>
}